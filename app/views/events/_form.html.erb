<div class="form-group" ng-hide="'<%= cookies[:building].present? || @event.building_id.present? || 'false' %>' != 'false' " ng-init="building='<%= @event.building_id || cookies[:building] %>'">
	<%= f.label :building_id, "Edificio", :class => "control-label" %>
	<%= f.select :building_id, options_from_collection_for_select(buildings, "id", "name", @event.building_id), {:prompt => "Seleziona"}, {:class => "form-control", :"ng-model" => "building", :"ng-required" => true} %> 
</div>

<div class="form-group" ng-show="apartments" ng-init="apartment=<%= @event.apartment_id || "\'\'" %>">
	<label for="apartment_id" class="control-label">Appartamento</label>
	<select name="event[apartment_id]" class="form-control" ng-model="apartment" ng-options="option.id as option.name for option in apartments"></select>
</div>

<div class="form-group" ng-show="tenants.length > 0" ng-init="tenant=<%= @event.user_id || "\'\'" %>">
	<label for="user_id" class="control-label">Inquilino</label>
	<select name="event[user_id]" class="form-control" ng-model="tenant" ng-options="option.id as option.name for option in tenants"></select>
</div>

<div class="form-group" ng-class="{'has-error':eventForm['event[title]'].$dirty && eventForm['event[title]'].$invalid }" ng-init='titolo="<%= @event.title %>"'>
	
	<%= f.label :title, "Titolo", :class => "control-label" %>
	<%= f.text_field :title, :class => "form-control", :placeholder => "Titolo", :"ng-model" => "titolo", :"ng-required" => true %>
	<span class="error-message" ng-show="eventForm['event[title]'].$dirty && eventForm['event[title]'].$invalid">Titolo è richiesto.</span>
</div>

<div class="form-group" ng-init='description="<%= @event.description %>"'>
	<%= f.label :description, "Descrizione", :class => "control-label" %>
	<%= f.text_area :description, :class => "form-control", :placeholder => "Descrizione", :"ng-model" => "description" %>
</div>

<div class="form-group" ng-class="{'has-error':eventForm['event[start]'].$dirty && eventForm['event[start]'].$invalid }" ng-init="start='<%= @event.start.strftime("%d/%m/%Y") if @event.start.present? %>'">
	<%= f.label :start, "Inizio", :class => "control-label" %>
	<div class="input-group">
		<%= f.text_field :start, :class => "form-control", :placeholder => "Data di inizio", :"ng-model" => "start", :"ng-required" => true, :"bs-datepicker" => "dd/MM/yyyy", :"data-date-format" => "dd/MM/yyyy", :"data-autoclose" => "1", :"date-type" => "string" %>
        <span class="input-group-btn">
          <label for="event_start" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></label>
        </span>
	</div>
	<span class="error-message" ng-show="eventForm['event[start]'].$dirty && eventForm['event[start]'].$invalid">Data di inizio è richiesta.</span>
</div>

<div class="form-group" ng-class="{'has-error':eventForm['event[finish]'].$dirty && eventForm['event[finish]'].$invalid }" ng-init="finish='<%= @event.finish.strftime("%d/%m/%Y") if @event.finish.present? %>'">
	<%= f.label :finish, "Fine", :class => "control-label" %>
	<div class="input-group">
		<%= f.text_field :finish, :class => "form-control", :placeholder => "Data di fine", :"ng-model" => "finish", :"ng-required" => true, :"bs-datepicker" => "dd/MM/yyyy", :"data-date-format" => "dd/MM/yyyy", :"data-autoclose" => "1", :"date-type" => "string" %>
        <span class="input-group-btn">
          <label for="event_finish" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></label>
        </span>
	</div>
	<span class="error-message" ng-show="eventForm['event[finish]'].$dirty && eventForm['event[finish]'].$invalid">Data di fine è richiesta.</span>
</div>

<div class="form-group" ng-init="button.color='<%= @event.color || '#286090' %>'">
	<label class="control-label">Color:</label>
	<div class="btn-group" ng-model="button.color" bs-radio-group>
	  <label class="btn btn-primary"><input type="radio" class="btn btn-primary" value="#286090"> </label>
	  <!-- <label class="btn btn-primary" style="background-color:#000;"><input type="radio" class="btn btn-primary" value="#000000"> </label> -->
	  <label class="btn btn-success"><input type="radio" class="btn btn-success" value="#5cb85c"> </label>
	  <label class="btn btn-info"><input type="radio" class="btn btn-info" value="#5bc0de"> </label>
	  <label class="btn btn-warning"><input type="radio" class="btn btn-warning" value="#f0ad4e"> </label>
	</div>
</div>

<div class="form-group" style="margin-bottom:20px;">
	<%= f.hidden_field :building_id, :value => cookies[:building] %>
	<%= f.submit :class => "btn btn-sm btn-primary", :"ng-disabled" => "eventForm.$invalid"%>
</div>